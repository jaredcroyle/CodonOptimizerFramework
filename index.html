<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Codon Optimization Framework | Base Bears | NonaWorks24</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mediaqueries.css">
    <script src="https://kit.fontawesome.com/48892bd30e.js" crossorigin="anonymous"></script>
    <style>
        .loading-container {
            display: none;
            width: 100%;
            margin: 20px 0;
            text-align: center;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
        }
        .progress {
            width: 0%;
            height: 100%;
            background-color: #147efb;
            transition: width 0.5s ease;
        }
        .loading-text {
            margin-top: 10px;
            color: #f5f5f5;
        }
        .status-message {
            margin-top: 5px;
            color: #a8a8a8;
            font-size: 0.9em;
            font-style: italic;
        }
        @media screen and (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .container {
                width: 95%;
                padding: 1rem;
            }
            
            #input, #output, #about {
                margin: 1rem 0;
                padding: 1rem;
            }
            
            textarea {
                width: 100%;
                max-width: none;
            }
            
            .form-bottom {
                width: 100%;
            }
            
            select, button {
                width: 100%;
                margin: 0.5rem 0;
            }
            
            .nav-links {
                display: none;
            }
            
            .logo {
                font-size: 1.2em;
                text-align: center;
                width: 100%;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.5em;
            }
            
            #header {
                margin: 0 1rem;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <nav id="desktop-nav">
        <div class="logo">Codon Optimization Framework</div>
        <div>
            <ul class="nav-links">
                <li><a href="#input">Input</a></li>
                <li><a href="#output">Output</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>
    <header id="header">
        <h1>Optimizer Tool</h1>
        <p>Optimize protein sequences for efficient gene expression.</p>
    </header>
    <main>
      <section id="input">
        <h2>Input Protein Sequence</h2>
        <form id="codonForm" class="input-form">
            <label for="protein-sequence">Protein Sequence (FASTA format or plain):</label>
            <textarea id="protein-sequence" name="protein-sequence" rows="10" placeholder="Enter your protein sequence here..."></textarea>
            <label for="user-email">Email:</label>
            <input type="email" id="user-email" name="user-email" placeholder="Enter your email address" required>
            <div class="form-bottom">
                <label for="target-organism">Target Organism:</label>
                <select id="target-organism" name="target-organism">
                    <option value="ecoli">E. coli</option>
                    <option value="yeast">Yeast</option>
                    <option value="human">Human</option>
                    <option value="mouse">Mouse</option>
                </select>
                <button type="button" class="btn btn-color-1" onclick="runCodonOptimization()">Run Optimization</button>
            </div>
        </form>
      </section>
        <section id="output">
            <h2>Optimized Codon Sequence</h2>
            <div id="output-container">
                <p id="output-text">Your optimized sequence will appear here.</p>
            </div>
        </section>
        <section id="about">
            <h2>About</h2>
            <p>This tool leverages advanced algorithms to optimize codons in protein sequences for efficient expression in target organisms. By using multiple codon optimizers at once, you can select which one best fits your needs. Ideal for synthetic biology and bioinformatics research.</p>
        </section>
    </main>
    <footer>
        <nav>
            <ul class="nav-links">
                <li><a href="#input">Input</a></li>
                <li><a href="#output">Output</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
        <p>Copyright &#169; 2024 Jared Croyle. All Rights Reserved.</p>
    </footer>
    <script>
        async function runCodonOptimization() {
            const sequence = document.getElementById('protein-sequence').value.trim();
            const email = document.getElementById('user-email').value.trim();
            
            if (!sequence) {
                alert("Please enter a protein sequence.");
                return;
            }
            
            if (!email) {
                alert("Please enter your email address.");
                return;
            }

            // Store both sequence and email in sessionStorage
            sessionStorage.setItem('sequence', sequence);
            sessionStorage.setItem('userEmail', email);
            
            // Redirect to results page
            window.location.href = 'results.html';
        }
    </script>
</body>
</html>
